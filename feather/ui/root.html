<!doctype html><html><head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/> <title>Feather Overlay</title> <script>(function(featherFactory){const wnd=window; const pushEvent=function(type, data){const request={type: type, data: data}; wnd.cefQuery({request: 'event:' + JSON.stringify(request), persistent: false, onSuccess: function(response){}, onFailure: function(errorCode, errorMessage){}});}; const feather=featherFactory(pushEvent); wnd.cefQuery({request: 'registerApi', persistent: true, onSuccess: function(json){const data=JSON.parse(json); feather[data.func].apply(feather, data.args);}, onFailure: function(errorCode, errorMessage){}}); wnd.feather=function(json){const data=JSON.parse(json); feather[data.func].apply(feather, data.args);};})(function(_pushEvent){'use strict'; const _frames={}; const _viewStack=[]; const _visibleFrames=[]; const _stackRemove=function(stack, frameName){let idx=-1; while ((idx=stack.indexOf(frameName)) !==-1){stack.splice(idx, 1);}}; const _stackSwapToBack=function(stack, frameName){_stackRemove(stack, frameName); stack.push(frameName);}; const _isFrameElem=function(elem){return elem && elem.tagName.toLowerCase()==='iframe';}; return{createFrame(name, url){const doc=document; const frame=doc.createElement('iframe'); frame.name=name; frame.src=url; frame.tabIndex=-1; frame.style.visibility='hidden'; _frames[name]=frame; _viewStack.push(name); const activeElem=doc.activeElement; const hasFocus=_isFrameElem(activeElem); doc.body.appendChild(frame); if (hasFocus){frame.blur(); activeElem.focus();}frame.contentWindow.getRpcHost=function(){return name;};}, destroyFrame(name){const frame=_frames[name]; if (frame){_stackRemove(_viewStack, name); _stackRemove(_visibleFrames, name); document.body.removeChild(frame); delete _frames[name]; _pushEvent('destroyFrame',{frame: name, total: Object.keys(_frames).length});}}, messageFrame(name, jsonString){const frame=_frames[name]; if (frame){const data=JSON.parse(jsonString); frame.contentWindow.postMessage(data, '*');}}, focusFrame(name){const targetFrame=_frames[name]; if (targetFrame && document.activeElement !==targetFrame){this.unfocusFrame(''); _stackSwapToBack(_viewStack, name); for (let iii=0; iii < _viewStack.length; iii++){const frameName=_viewStack[iii]; const frame=_frames[frameName]; if (frame){frame.style.zIndex=iii.toString();}}targetFrame.style.zIndex=9999; targetFrame.style.visibility=''; targetFrame.contentWindow.focus(); _pushEvent('focusFrame', name);}}, unfocusFrame(name){const activeElem=document.activeElement; if (_isFrameElem(activeElem)){if (_visibleFrames.indexOf(activeElem.name)===-1){activeElem.style.visibility='hidden';}activeElem.blur(); _pushEvent('unfocusFrame', activeElem.name);}}, showFrame(name){const frame=_frames[name]; if (frame){_stackSwapToBack(_visibleFrames, name); frame.style.visibility=''; _pushEvent('showFrame',{frame: name, total: _visibleFrames.length});}}, hideFrame(name){const frame=_frames[name]; if (frame){_stackRemove(_visibleFrames, name); if (frame !==document.activeElement){frame.style.visibility='hidden';}_pushEvent('hideFrame',{frame: name, total: _visibleFrames.length});}},};}); </script> <style>body{margin: 0px; padding: 0px; background: transparent;}iframe{position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border: 0px; width: 100%; height: 100%;}</style></head><body></body></html>